digraph G {
fontname = "Bitstream Vera Sans"
fontsize = 8

node [
fontname = "Bitstream Vera Sans"
fontsize = 8
shape = "record"
]

APacket [
label = "{\
\<abstract\> - APacket||\
+ header : PacketHeader\l\
+ data : AData\l\
}"
]

AData [
label = "{\
\<abstract\> - AData||\
}"
]

PacketHeader [
label = "{\
PacketHeader||\
+ code : PacketCode\l\
+ time : Timestamp\l\
+ dataSize : unsigned int\l\
}"
]

DataEntity [
label = "{\
DataEntity||\
+ id : unsigned int\l\
+ pv : unsigned int\l\
+ x : unsigned int\l\
+ y : unsigned int\l\
+ type : EntityType\l\
+ skinType : SkinType\l\
+ bulletType : SkinType\l\
+ movementType : MovementType\l\
+ spawnFrameNum : unsigned int\l\
+ startTime : Timestamp\l\
}"
]

DataLogin [
label = "{\
DataLogin||\
+ id : unsigned int\l\
+ login : char[15]\l\
}"
]

DataSpaceCraft [
label = "{\
DataSpaceCraft||\
+ id : unsigned int\l\
+ spaceCraft : SkinType\l\
}"
]

DataMap [
label = "{\
DataMap||\
+ mapName : char[15]\l\
}"
]

DataSynchro [
label = "{\
DataSynchro||\
+ id : unsigned int\l\
+ x : unsigned int\l\
+ y : unsigned int\l\
+ pv : unsigned int\l\
+ time : Timestamp\l\
+ bulletSkin : SkinType
+ movementType : MovementType\l\
+ startTime : Timestamp\l\
}"
]

DataEmpty [
label = "{\
DataEmpty\
}"
]

DataId [
label = "{\
DataId||\
+ id : unsigned int\l\
}"

]

DataShoot [
label = "{\
DataShoot||\
+ id : unsigned int\l\
}"

]

EnumPacketCodes [
label = "{\
\<Enum\> - PacketCodes|\
## C-\>S : General communication TCP\l\
Login\l\
CreateParty\l\
addMap\l\
validParty\l\
join\l\
chooseSpacecraft\l\
ready\l\
start\l\
stop\l\
quit\l\l\
## C-\>S : General communication UDP\l\
move\l\
shoot\l\l\
## S-\>C : General communication TCP\l\
loginOK\l\
createOK\l\
sendMaps\l\
sendMapsEnd\l\
addMapOK\l\
validPartyOK\l\
joinOK\l\
joinParty\l\
leftParty\l\
playerColorChange\l\
playerReady\l\
playerNotReady\l\
partyStarting\l\
sendGrounds\l\
sendGroundsEnd\l\
stop\l\l\
## S-\>C : Error codes TCP\l\
loginAlreadyExists\l\
badLoginFormat\l\
loginKO\l\
createKO\l\
unknownMap\l\
validPartyKO\l\l\
## S-\>C : Game communication UDP\l\
spawn\l\
move\l\
fight\l\
die\l\
buletType\l\
sync\l\
}"
]

edge [
fontname = "Bitstream Vera Sans"
fontsize = 8
]

// Composition
PacketHeader -> APacket [arrowhead = "diamond" style = "solid"]
AData -> APacket [arrowhead = "diamond" style = "solid"]

// Heritage
DataEntity -> AData [arrowhead = "onormal" style = "solid"]
DataLogin -> AData [arrowhead = "onormal" style = "solid"]
DataMap -> AData [arrowhead = "onormal" style = "solid"]
DataEmpty -> AData [arrowhead = "onormal" style = "solid"]
DataId -> AData [arrowhead = "onormal" style = "solid"]
DataSpaceCraft -> AData [arrowhead = "onormal" style = "solid"]
DataSynchro -> AData [arrowhead = "onormal" style = "solid"]
DataShoot -> AData [arrowhead = "onormal" style = "solid"]

}
